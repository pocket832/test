<!DOCTYPE html><html lang=“ja”><body><script>




document.write('<audio id="sound" preload="auto"> <source src="people-performance-cheer1.mp3" type="audio/mp3"></audio>');

const range = 2.2;
const width = 1920;
const height =1080;

document.write('<svg width=1920 height=1080>');



//木の述びる方向ベクトル
let a = 0;
let b = 1;
//葉のレベル
let n = 10;
//根の座標
let x = 0;
let y = 0;
//幹の長さ
let A =50;
//幹の長さを徐々に小さくするために使う変数
let B=1;
//枝分かれ点の座標を格納する配列
let Ux=[];
let Uy=[];
//配列を葉の数だけ初期化
for(let k = 0 ; k <Math.pow(2,n) ; k++){
Ux.push(0);
Uy.push(0);
};
//初めの根の座標を格納
Ux[0]=x;
Uy[0]=y;
//次の枝分かれ点の座標を格納
Ux[1]=A*a+Ux[0];
Uy[1]=2*A*b+Uy[0];

//描画用に座標を並べて格納する配列
let Tx=[];
let Ty=[];

Tx.push(Ux[0],Ux[1]);
Ty.push(Uy[0],Uy[1]);

for(let j = 1; j < Math.pow(2,n); j++){

  Ux[2*j]=(Math.sqrt(3)/2)*(Ux[j]-Ux[Math.floor(j/2)])-(1/2)*(Uy[j]-Uy[Math.floor(j/2)])+Ux[j];
  Uy[2*j]=(1/2)*(Ux[j]-Ux[Math.floor(j/2)])+(Math.sqrt(3)/2)*(Uy[j]-Uy[Math.floor(j/2)])+Uy[j];

  Ux[2*j+1]=(Math.sqrt(3)/2)*(Ux[j]-Ux[Math.floor(j/2)])+(1/2)*(Uy[j]-Uy[Math.floor(j/2)])+Ux[j];
  Uy[2*j+1]=(-1/2)*(Ux[j]-Ux[Math.floor(j/2)])+(Math.sqrt(3)/2)*(Uy[j]-Uy[Math.floor(j/2)])+Uy[j];




Tx.push(Ux[j],Ux[2*j]);
Ty.push(Uy[j],Uy[2*j]);

Tx.push(Ux[j],Ux[2*j+1]);
Ty.push(Uy[j],Uy[2*j+1]);



};

  document.write('<g transform="translate(960,1000)scale('+1+', '+(-1)+')">');
//世界樹を描く
for (let i = 0; i <2*(Math.pow(2,n+1)-1); i++) {



  document.write('<line x1='+Tx[i]+' y1='+Ty[i]+' x2='+Tx[i+1]+' y2='+Ty[i+1]+' stroke="black" stroke-width='+2+' />');
  i++;

  let j=Math.floor(Math.pow(2,n)*Math.random());
  let k=Math.floor(Math.pow(2,n)*Math.random());



};



//葉っぱを描く
for (let i = 1; i <Math.pow(2,n+1); i++) {
  let j=Math.floor((Math.pow(2,n+1)+1)*Math.random());


  var randomColor = "rgb(" + (~~(256 * Math.random())) + ", " + (~~(256 * Math.random())) + ", " + (~~(256 * Math.random())) + ")" ;




    document.write('<circle cx='+Ux[i]+' cy='+Uy[i]+' r="40"  style="fill:'+randomColor+';opacity:0.5" />');
  //枝分かれ点の座標はUに入っているから、そこを中心として乱数とって半径aの範囲のどこかに葉っぱを描く

   document.getElementById("sound").play();




};



  document.write('</g>');

//タグを閉じる
document.write('</svg>');

</script></body></html>

