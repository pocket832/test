<!DOCTYPE html><html lang=“ja”><body><script>

const range = 2.2; // x軸両端の幅
let x = -range/2; //始点のx座標

//軸線を描く
document.write('<svg width=400 height=400><line x1=0 y1=200 x2=400 y2=200 stroke="black"/><line x1=200 y1=0 x2=200 y2=400 stroke="black"/>');

//始めの三角形の座標を格納する
//x座標を格納する配列
let Ux = [-Math.sqrt(3)/2, Math.sqrt(3)/2, 0, -Math.sqrt(3)/2];

//y座標を格納する配列
let Uy = [-0.5, -0.5, 1, -0.5];

for(let j = 0; j < 3; j++) {

  //新しい座標を格納する配列
  let Tx = [];
  let Ty = [];

  for (let i = 0; i < Ux.length -1; i++) {

    const Ax = Ux[i]; //点Aの座標を代入
    const Ay = Uy[i];

    const Bx = Ux[i+1]; //点Bの座標を代入
    const By = Uy[i+1];

    const Cx = 2/3*Ax+1/3*Bx; //点Cの座標を代入
    const Cy = 2/3*Ay+1/3*By;

    const Dx = 1/2*(Ax+Bx)+Math.sqrt(3)/6*(By-Ay); //点Dの座標を代入
    const Dy = 1/2*(Ay+By)+Math.sqrt(3)/6*(Ax-Bx);

    const Ex = 1/3*Ax+2/3*Bx; //点Eの座標を代入
    const Ey = 1/3*Ay+2/3*By;

    //新しい座標をTxに格納する
    Tx.push(Ax, Cx, Dx, Ex, Bx);
    Ty.push(Ay, Cy, Dy, Ey, By);

  };

  //Txの内容をUxに代入する
  Ux = Array.from(Tx);
  Uy = Array.from(Ty);

};

//グラフを描く
for (let i = 0; i < Ux.length - 1; i++) {

  document.write('<g transform="translate(200,200)scale('+(400/range)+', '+(-400/range)+')">');

  document.write('<line x1='+Ux[i]+' y1='+Uy[i]+' x2='+Ux[i+1]+' y2='+Uy[i+1]+' stroke="black" stroke-width='+range/400*1+' />');

  document.write('</g>');

};

//最後にタグを閉じる
document.write('</svg>');

</script></body></html>
